"use strict";(self.webpackChunkfilmoteka2_0=self.webpackChunkfilmoteka2_0||[]).push([[680],{680:function(n,e,t){t.r(e),t.d(e,{default:function(){return ln}});var r,a,o=t(439),i=t(791),l=t(168),s=t(444),c=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},d.apply(this,arguments)}function u(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function m(n,e){var t=n.title,o=n.titleId,l=u(n,c);return i.createElement("svg",d({viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":o},l),t?i.createElement("title",{id:o},t):null,r||(r=i.createElement("path",{d:"M5.5 9.5C7.70914 9.5 9.5 7.70914 9.5 5.5C9.5 3.29086 7.70914 1.5 5.5 1.5C3.29086 1.5 1.5 3.29086 1.5 5.5C1.5 7.70914 3.29086 9.5 5.5 9.5Z",strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=i.createElement("path",{d:"M10.5 10.5002L8.32495 8.3252",strokeLinecap:"round",strokeLinejoin:"round"})))}var p,h,f,x,g,b,v,w,y,_,j,Z,k,P,C,S=i.forwardRef(m),L=(t.p,s.ZP.form(p||(p=(0,l.Z)(["\n  position: relative;\n"])))),N=s.ZP.input(h||(h=(0,l.Z)(["\n  display: block;\n\n  background-color: transparent;\n  border: none;\n  margin: 0 auto;\n  padding: 4px 0;\n\n  width: 100%;\n\n  font-size: 14px;\n  color: ",";\n  outline: none;\n\n  border-bottom: 0.5px solid #ffffff;\n\n  &::placeholder {\n    color: ",";\n    font-weight: 400;\n    font-size: 14px;\n    opacity: 1;\n  }\n\n  @media screen and (min-width: 768px) and (max-width: 1279px) {\n    width: 336px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: 394px;\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.white})),O=s.ZP.button(f||(f=(0,l.Z)(["\n  position: absolute;\n  display: flex;\n\n  justify-content: center;\n  align-items: center;\n\n  right: -14px;\n  bottom: 0px;\n\n  width: 30px;\n  height: 30px;\n\n  background-color: transparent;\n  border: none;\n  color: ",";\n\n  cursor: pointer;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.orange})),z=(0,s.ZP)(S)(x||(x=(0,l.Z)(["\n  display: block;\n  stroke: currentColor;\n  width: 24px;\n  height: 24px;\n"]))),I=t(184),E=function(n){var e=n.onSubmit,t=(0,i.useState)(""),r=(0,o.Z)(t,2),a=r[0],l=r[1];return(0,I.jsxs)(L,{action:"",onSubmit:function(n){n.preventDefault();var t=n.target.elements.search.value;e(t),l("")},children:[(0,I.jsx)("label",{htmlFor:"",children:(0,I.jsx)(N,{name:"search",type:"text",placeholder:"Movie search",value:a,onChange:function(n){l(n.target.value)}})}),(0,I.jsx)(O,{type:"submit",children:(0,I.jsx)(z,{})})]})},q=s.ZP.div(g||(g=(0,l.Z)(["\n  position: absolute;\n\n  top: 130px;\n  left: 50%;\n\n  transform: translateX(-50%);\n  width: calc(100% - 64px);\n"]))),M=s.ZP.div(b||(b=(0,l.Z)(["\n  color: #ff001b;\n  font-size: 14px;\n\n  text-align: center;\n\n  margin-top: 16px;\n\n  @media screen and (min-width: 768px) {\n    margin-top: 20px;\n  }\n"]))),B=function(n){var e=n.type,t=n.error,r=n.onSubmit;return(0,I.jsxs)(q,{children:["home"===e?(0,I.jsx)(E,{onSubmit:r}):"lmao",t&&(0,I.jsx)(M,{children:"Search result not successful. Enter the correct movie name and try again."})]})},F={loaderBody:"Loader_loaderBody__magFC",loader:"Loader_loader__+lRPl",loader__container:"Loader_loader__container__dne6P",loader__film:"Loader_loader__film__I0IZ-",loader__filmImg:"Loader_loader__filmImg__Ba0Ty",rotate:"Loader_rotate__SVGDU"},R=function(){return(0,I.jsx)("div",{className:F.loaderBody,children:(0,I.jsx)("div",{className:F.loader,children:(0,I.jsxs)("div",{className:F.loader__container,children:[(0,I.jsxs)("div",{className:F.loader__film,children:[(0,I.jsx)("img",{className:F.loader__filmImg,src:"https://www.dropbox.com/s/o4p5i3nfw92rhfz/film.png?raw=1",alt:""}),(0,I.jsx)("img",{className:F.loader__filmImg,src:"https://www.dropbox.com/s/o4p5i3nfw92rhfz/film.png?raw=1",alt:""})]}),(0,I.jsx)("img",{className:F.loader__camera,src:"https://www.dropbox.com/s/348z6yvtt9hbos2/camera.png?raw=1",alt:""})]})})})},D=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],T=s.ZP.ul(v||(v=(0,l.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: baseline;\n\n  padding: 0;\n  margin: 0 auto;\n\n  list-style: none;\n\n  @media screen and (max-width: 767px){\n    display: block;\n  }\n"]))),A=s.ZP.li(w||(w=(0,l.Z)(["\n  flex-basis: calc((100% - 32px) / 3);\n\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  @media screen and (min-width: 768px) and (max-width: 1279px) {\n    &:not(:nth-child(2n)) {\n      margin-right: 32px;\n    }\n\n    &:nth-child(-n + 2) {\n      margin-bottom: 32px;\n    }\n  }\n\n  @media screen and (min-width: 1280px) {\n    &:not(:nth-child(3n)) {\n      margin-right: 16px;\n    }\n  }\n"]))),H=s.ZP.img(y||(y=(0,l.Z)(["\n  display: block;\n  width: 100%;\n  border-radius: 5px;\n\n  margin-bottom: 10px;\n"]))),U=s.ZP.h2(_||(_=(0,l.Z)(["\n  //\n  font-size: 12px;\n  text-transform: uppercase;\n\n  margin: 0 0 5px 0;\n"]))),V=s.ZP.p(j||(j=(0,l.Z)(["\n  font-size: 12px;\n  margin: 0;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.orange})),W=s.ZP.span(Z||(Z=(0,l.Z)(['\n  &::before {\n    content: "|";\n    margin: 0 4px;\n  }\n']))),G=function(n){var e=n.movies;return(0,I.jsx)(T,{children:e.map((function(n){var e,t;return(0,I.jsxs)(A,{children:[(0,I.jsx)(H,{src:"https://image.tmdb.org/t/p/w300/".concat(n.poster_path),alt:'poster of "'.concat(n.title,'" movie')}),(0,I.jsx)(U,{children:n.title}),(0,I.jsxs)(V,{children:[(0,I.jsx)("span",{children:n.genre_ids.length?(t=n.genre_ids,D.reduce((function(n,e){return t.includes(e.id)&&n.push(e.name),n}),[]).join(", ")):"No genres for this movie"}),n.release_date&&(0,I.jsx)(W,{children:null===(e=n.release_date)||void 0===e?void 0:e.slice(0,4)})]})]},n.id)}))})},X=s.ZP.div(k||(k=(0,l.Z)(["\n  margin: 40px 0;\n  display: flex;\n  justify-content: center;\n"]))),J=s.ZP.ul(P||(P=(0,l.Z)(["\n  display: flex;\n\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),K=s.ZP.button(C||(C=(0,l.Z)(['\n  background-color: transparent;\n  border: none;\n  padding: 13px;\n\n  font-family: "Roboto";\n  border-radius: 5px;\n  font-size: 12px;\n  line-height: 1.33;\n  color: ',";\n\n  cursor: pointer;\n\n  &.active {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.orange}),(function(n){return n.theme.colors.white})),Q=function(n){var e=n.page,t=n.onPageChange,r=n.total,a=function(n,e){var t=Number(n);return t>=4&&t<e-3||t>=e-3&&t<e-2?[1,"...",t-1,t,t+1,"...",e]:t>=e-2&&t!==e?[1,"...",e-3,e-2,e-1,e]:t===e?[1,"...",e-2,e-1,e]:[1,2,3,4,5,"...",e]}(e,r);return(0,I.jsx)(X,{children:(0,I.jsx)(J,{children:a.map((function(n,r){return(0,I.jsx)("li",{children:(0,I.jsx)(K,{onClick:function(){return t(n)},className:n===e&&"active",children:n})},r)}))})})},Y=t(87),$=t(165),nn=t(861),en=t(263),tn="94b41ec0e6f6b6ffeb7ae80dc6b59179",rn=en.Z.create({baseURL:"https://api.themoviedb.org/3"}),an=function(){var n=(0,nn.Z)((0,$.Z)().mark((function n(){var e,t,r,a=arguments;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,n.next=3,rn.get("trending/movie/day",{params:{api_key:tn,page:e}});case 3:return t=n.sent,r=t.data,n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),on=function(){var n=(0,nn.Z)((0,$.Z)().mark((function n(e){var t,r,a,o=arguments;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:1,n.next=3,rn.get("search/movie",{params:{query:e,page:t,api_key:tn}});case 3:return r=n.sent,a=r.data,console.log(a),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ln=function(){var n=(0,i.useState)(null),e=(0,o.Z)(n,2),t=e[0],r=e[1],a=(0,i.useState)(!1),l=(0,o.Z)(a,2),s=l[0],c=l[1],d=(0,i.useState)(!1),u=(0,o.Z)(d,2),m=u[0],p=u[1],h=(0,Y.lr)(),f=(0,o.Z)(h,2),x=f[0],g=f[1],b=x.get("q")||"",v=Number(x.get("page"))||1,w=null===t||void 0===t?void 0:t.total_pages;(0,i.useEffect)((function(){c(!0),b?(g(1===v?{q:b}:{q:b,page:v}),on(b,v).then((function(n){if(!n.results.length)throw new Error;r(n)})).catch((function(n){p(!0)})).finally((function(){c(!1)}))):an(v).then(r).then(c(!1))}),[b,v,g]);var y=function(n){"..."!==n&&g(b?{q:b,page:n}:{page:n})};return(0,I.jsxs)("main",{children:[(0,I.jsx)("h1",{className:"visually-hidden",children:"Trending today"}),(0,I.jsxs)("div",{className:"container",children:[(0,I.jsx)(B,{type:"home",onSubmit:function(n){var e=n.toLowerCase().trim();g({q:e})},error:m}),(0,I.jsx)(Q,{page:v,total:w,onPageChange:y}),(null===t||void 0===t?void 0:t.results)&&(0,I.jsx)(G,{movies:t.results}),(0,I.jsx)(Q,{page:v,total:w,onPageChange:y})]}),s&&(0,I.jsx)(R,{})]})}}}]);
//# sourceMappingURL=680.e914ed05.chunk.js.map