"use strict";(self.webpackChunkfilmoteka2_0=self.webpackChunkfilmoteka2_0||[]).push([[9],{9:function(n,e,t){t.r(e),t.d(e,{default:function(){return tn}});var r,o,i=t(439),a=t(791),s=t(168),c=t(444),l=["title","titleId"];function u(){return u=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},u.apply(this,arguments)}function p(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function d(n,e){var t=n.title,i=n.titleId,s=p(n,l);return a.createElement("svg",u({viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":i},s),t?a.createElement("title",{id:i},t):null,r||(r=a.createElement("path",{d:"M5.5 9.5C7.70914 9.5 9.5 7.70914 9.5 5.5C9.5 3.29086 7.70914 1.5 5.5 1.5C3.29086 1.5 1.5 3.29086 1.5 5.5C1.5 7.70914 3.29086 9.5 5.5 9.5Z",strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=a.createElement("path",{d:"M10.5 10.5002L8.32495 8.3252",strokeLinecap:"round",strokeLinejoin:"round"})))}var m,f,h,g,x,b,v,y,Z,j,w,k,P,C,O=a.forwardRef(d),S=(t.p,c.ZP.form(m||(m=(0,s.Z)(["\n  position: relative;\n"])))),_=c.ZP.input(f||(f=(0,s.Z)(["\n  display: block;\n\n  background-color: transparent;\n  border: none;\n  margin: 0 auto;\n  padding: 4px 4px;\n\n  width: 100%;\n\n  font-size: 14px;\n  color: ",";\n  outline: none;\n\n  border-bottom: 0.5px solid #ffffff;\n\n  &::placeholder {\n    color: ",";\n    font-weight: 400;\n    font-size: 14px;\n    opacity: 1;\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.white})),L=c.ZP.button(h||(h=(0,s.Z)(["\n  position: absolute;\n  display: flex;\n\n  justify-content: center;\n  align-items: center;\n\n  right: -14px;\n  bottom: 0px;\n\n  width: 30px;\n  height: 30px;\n\n  background-color: transparent;\n  border: none;\n  color: ",";\n\n  cursor: pointer;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.orange})),q=(0,c.ZP)(O)(g||(g=(0,s.Z)(["\n  display: block;\n  stroke: currentColor;\n  width: 24px;\n  height: 24px;\n"]))),E=t(184),M=function(n){var e=n.onSubmit,t=(0,a.useState)(""),r=(0,i.Z)(t,2),o=r[0],s=r[1];return(0,E.jsxs)(S,{action:"",onSubmit:function(n){n.preventDefault();var t=n.target.elements.search.value;e(t),s("")},children:[(0,E.jsx)("label",{htmlFor:"",children:(0,E.jsx)(_,{name:"search",type:"text",placeholder:"Movie search",value:o,onChange:function(n){s(n.target.value)}})}),(0,E.jsx)(L,{type:"submit",children:(0,E.jsx)(q,{})})]})},z=c.ZP.div(x||(x=(0,s.Z)(["\n  position: absolute;\n\n  top: 130px;\n  left: 50%;\n\n  transform: translateX(-50%);\n  width: calc(100% - 64px);\n"]))),F=function(n){var e=n.type,t=n.onSubmit;return(0,E.jsx)(z,{children:"home"===e?(0,E.jsx)(M,{onSubmit:t}):"lmao"})},N=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],R=c.ZP.ul(b||(b=(0,s.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n\n  padding: 0;\n  margin: 0 auto;\n\n  list-style: none;\n"]))),A=c.ZP.li(v||(v=(0,s.Z)(["\n  flex-basis: 280px;\n\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n"]))),D=c.ZP.img(y||(y=(0,s.Z)(["\n  display: block;\n  width: 100%;\n  border-radius: 5px;\n\n  margin-bottom: 10px;\n"]))),I=c.ZP.h2(Z||(Z=(0,s.Z)(["\n  //\n  font-size: 12px;\n  text-transform: uppercase;\n\n  margin: 0 0 5px 0;\n"]))),H=c.ZP.p(j||(j=(0,s.Z)(["\n  font-size: 12px;\n  margin: 0;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.orange})),T=c.ZP.span(w||(w=(0,s.Z)(['\n  &::before {\n    content: "|";\n    margin: 0 4px;\n  }\n']))),W=function(n){var e=n.movies;return(0,E.jsx)(R,{children:e.map((function(n){var e,t;return(0,E.jsxs)(A,{children:[(0,E.jsx)(D,{src:"https://image.tmdb.org/t/p/w300/".concat(n.poster_path),alt:'poster of "'.concat(n.title,'" movie')}),(0,E.jsx)(I,{children:n.title}),(0,E.jsxs)(H,{children:[(0,E.jsx)("span",{children:n.genre_ids.length?(t=n.genre_ids,N.reduce((function(n,e){return t.includes(e.id)&&n.push(e.name),n}),[]).join(", ")):"No genres for this movie"}),n.release_date&&(0,E.jsx)(T,{children:null===(e=n.release_date)||void 0===e?void 0:e.slice(0,4)})]})]},n.id)}))})},B=c.ZP.div(k||(k=(0,s.Z)(["\n  margin: 40px 0;\n  display: flex;\n  justify-content: center;\n"]))),U=c.ZP.ul(P||(P=(0,s.Z)(["\n  display: flex;\n\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),V=c.ZP.button(C||(C=(0,s.Z)(['\n  background-color: transparent;\n  border: none;\n  padding: 13px;\n\n  font-family: "Roboto";\n  border-radius: 5px;\n  font-size: 12px;\n  line-height: 1.33;\n  color: ',";\n\n  cursor: pointer;\n\n  &.active {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.orange}),(function(n){return n.theme.colors.white})),X=function(n){var e=n.page,t=n.onPageChange,r=n.total,o=function(n,e){var t=Number(n);return t>=4&&t<e-3||t>=e-3&&t<e-2?[1,"...",t-1,t,t+1,"...",e]:t>=e-2&&t!==e?[1,"...",e-3,e-2,e-1,e]:t===e?[1,"...",e-2,e-1,e]:[1,2,3,4,5,"...",e]}(e,r);return(0,E.jsx)(B,{children:(0,E.jsx)(U,{children:o.map((function(n,r){return(0,E.jsx)("li",{children:(0,E.jsx)(V,{onClick:function(){return t(n)},className:n===e&&"active",children:n})},r)}))})})},G=t(87),J=t(165),K=t(861),Q=t(263),Y="94b41ec0e6f6b6ffeb7ae80dc6b59179",$=Q.Z.create({baseURL:"https://api.themoviedb.org/3"}),nn=function(){var n=(0,K.Z)((0,J.Z)().mark((function n(){var e,t,r,o=arguments;return(0,J.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1,n.next=3,$.get("trending/movie/day",{params:{api_key:Y,page:e}});case 3:return t=n.sent,r=t.data,n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),en=function(){var n=(0,K.Z)((0,J.Z)().mark((function n(e){var t,r,o,i=arguments;return(0,J.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:1,n.next=3,$.get("search/movie",{params:{query:e,page:t,api_key:Y}});case 3:return r=n.sent,o=r.data,console.log(o),n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),tn=function(){var n=(0,a.useState)(null),e=(0,i.Z)(n,2),t=e[0],r=e[1],o=(0,G.lr)(),s=(0,i.Z)(o,2),c=s[0],l=s[1],u=c.get("q")||"",p=Number(c.get("page"))||1,d=null===t||void 0===t?void 0:t.total_pages;(0,a.useEffect)((function(){u?(l(1===p?{q:u}:{q:u,page:p}),en(u,p).then(r)):nn(p).then(r)}),[u,p,l]);var m=function(n){"..."!==n&&l(u?{q:u,page:n}:{page:n})};if(t)return(0,E.jsxs)("main",{children:[(0,E.jsx)(F,{type:"home",onSubmit:function(n){var e=n.toLowerCase().trim();l({q:e})}}),(0,E.jsx)(X,{page:p,total:d,onPageChange:m}),t.results&&(0,E.jsx)(W,{movies:t.results}),(0,E.jsx)(X,{page:p,total:d,onPageChange:m})]})}}}]);
//# sourceMappingURL=9.b5e466f7.chunk.js.map